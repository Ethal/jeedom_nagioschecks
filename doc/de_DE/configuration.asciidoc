==== Plugin Konfiguration

Das Plugin enthält keine allgemeine Konfiguration.

===== Configuration équipement

Il faut ajouter un équipement par "unité" à superviser (comprendre pi, serveur ...)

Pour superviser un équipement distant il faut remplir les options de l'équipement suivantes (uniquement les distants) :

- Adresse IP

- Port SSH

- Identifiant

- Emplacement de la clef (uniquement les connexions par clef SSH sont supportées)

- Chemin des check Nagios sur la cible (en local ils sont intégrés)

Pour tous les équipements si on souhaite avoir des notifications, il faut remplir l'option de notification.

===== Configuration commandes

Ensuite on ajoute une commande par élément à supervisier (état RAID, mysql, logs ...) qui corresponderont chacune à une commande à lancer (un check_***)

Chaque commande permet de paramétrer sa fréquence (5mn, 15mn ou 30mn)

Si la case du nombre de check avant notification n'est pas rempli, il n'y a pas de notification pour cette commande. Pour la remplir on saisit le nombre de check en erreur de suite avant notification

On peut sélectionner si la commande est à éxécuter par SSH (dans ce cas, les options de l'équipement doivent être saisies)

On peut également avoir que le check soit éxécuter avec sudo

Dans la case commande on saisit le nom du check à lancer

Dans la case des options on saisit les options de ce check (voir les exemples)

===== Résultat de commande dans un scénario

Il est possible de récupérer la sortie Label du check dans un scénario en utilisant en bloc code :

$status = $cmd->getConfiguration('status');

Par exemple comme sur ce screenshot.

image::../images/nagioschecks_screenshot2.png[Exemple execCmd avec options]